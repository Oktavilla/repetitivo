@import "../config/typography";

@import "../helpers/exports";
@import "../helpers/respond-to";
@import "../helpers/util-mixins";

@include exports("typography") {
  //
  // Base
  // ---------------------------------------------------------------------------
  %base-font {
    @extend %base-font-size;

    color: $base-font-color;

    font-family: $base-font-family;
    font-feature-settings: $base-font-feature-settings;

    line-height: $base-line-height;

    text-rendering: $base-text-rendering;

    @if $base-pixel-antialiasing {
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
  }

  %base-font-size {
    font-size: $base-font-size;

    @each $breakpoint, $val in $breakpoints {
      @if map-has-key($base-font-size-scale, $breakpoint) {
        @include styles-from-map(map-get($base-font-size-scale, $breakpoint), $breakpoint);
      }
    }
  }

  //
  // Headings
  // ---------------------------------------------------------------------------
  %heading-font {
    font-family: $heading-font-family;
    font-feature-settings: $heading-font-feature-settings;
    font-weight: $heading-font-weight;

    line-height: $heading-line-height;
  }

  //
  // Lead
  // ---------------------------------------------------------------------------
  %lead {
    @include styles-from-map(map-get($lead-sizes, "default"));

    font-family: $lead-font-family;
    font-feature-settings: $lead-font-feature-settings;
    font-weight: $lead-font-weight;

    line-height: $lead-line-height;

    @each $breakpoint, $val in $breakpoints {
      @if map-has-key($lead-sizes, $breakpoint) {
        @include styles-from-map(map-get($lead-sizes, $breakpoint), $breakpoint);
      }
    }
  }

  //
  // Meta
  // ---------------------------------------------------------------------------
  %meta {
    font-family: $meta-font-family;
    font-size: $meta-font-size;

    @each $breakpoint, $val in $breakpoints {
      @if map-has-key($meta-font-size-scale, $breakpoint) {
        @include styles-from-map(map-get($meta-font-size-scale, $breakpoint), $breakpoint);
      }
    }
  }

  //
  // Font sizes
  // ---------------------------------------------------------------------------
  @each $metric-scale-size in $metric-scale-sizes {
    %#{$metric-scale-size}-font-size {
      $metric-scale-size-map: map-get($metric-font-sizes, $metric-scale-size);

      @include styles-from-map(map-get($metric-scale-size-map, "default"));

      @each $breakpoint, $val in $breakpoints {
        @if map-has-key($metric-scale-size-map, $breakpoint) {
          @include styles-from-map(map-get($metric-scale-size-map, $breakpoint), $breakpoint);
        }
      }
    }
  }
}
